# 使用技巧

## install vscode

curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg

sudo install -o root -g root -m 644 packages.microsoft.gpg /usr/share/keyrings/

sudo sh -c 'echo "deb [arch=amd64 signed-by=/usr/share/keyrings/packages.microsoft.gpg] https://packages.microsoft.com/repos/vscode stable main" > /etc/apt/sources.list.d/vscode.list'

sudo apt update && sudo apt install -y code-insiders

## 安装remote develop插件

Linux下, 避免多次输入密码:

    ~/.ssh/config

    Host *
    ControlMaster auto
    ControlPath  ~/.ssh/%r@%h-%p
    ControlPersist  600

Windows下, 拷贝公钥到ssh server中的authorized_keys文件

如果Remote Host有代理, 如果wget连接失败, 考虑下面的方法

    ~/.wgetrc

    use_proxy=on
    http_proxy=http://myproxy.proxy:xxxx
    https_proxy=http://myproxy.proxy:xxxx

## is unable to watch for file changes in this large workspace

   sudo sh -c "echo 'fs.inotify.max_user_watches=524288' >> /etc/sysctl.conf"
   sudo sysctl -p

## vscode 中python multiprocessing

    import multiprocessing
    multiprocessing.set_start_method('spawn', True)

## 插件开发

### 安装环境

    sudo apt install -y node npm
    sudo npm install -g cnpm --registry=https://registry.npm.taobao.org
    sudo cnpm install -g n
    sudo n latest
    sudo cnpm install -g yarn yo generator-code vsce

    yarn config set registry https://registry.npm.taobao.org

### 开始

    yo code, 使用TypeScript, Yarn, 生成一个vscode插件的初始化环境

    cd ProjectName
    yarn install

    f5
    vsce package
    code --install-extension ***.vsix

    npm run COMMAND, 运行package.json中的scripts命令


## 自动设置编码

    "files.autoGuessEncoding": true